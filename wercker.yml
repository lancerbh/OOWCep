box: openjdk:8-jdk

source-dir: utility-service

no-response-timeout: 60
command-timeout: 60

build:

  steps:

    - wercker/maven:
      name: Building App
      goals: clean package
      settings: oracle-settings.xml
      # security_settings: oracle-settings-security.xml
      maven_opts: -Dsettings.security=$WERCKER_SOURCE_DIR/oracle-settings-security.xml
      cache_repo: true
      profiles: local
      version: 3.2.5
      debug: false

deploy-app:

  steps:

    - wercker/maven:
      name: Deploy App Cloud
      pom: cep/pom.xml
      goals: com.oracle.weblogic:weblogic-maven-plugin:12.2.1-0-0:redeploy
      settings: oracle-settings.xml
      # security_settings: ../oracle-settings-security.xml
      maven_opts: -Dsettings.security=$WERCKER_SOURCE_DIR/oracle-settings-security.xml
      cache_repo: true
      profiles: cloud
      version: 3.2.5
      debug: false

    - wercker/maven:
      name: Deploy App Gol
      pom: cep/pom.xml
      goals: com.oracle.weblogic:weblogic-maven-plugin:12.2.1-0-0:redeploy
      settings: oracle-settings.xml
      # security_settings: ../oracle-settings-security.xml
      maven_opts: -Dsettings.security=$WERCKER_SOURCE_DIR/oracle-settings-security.xml
      # maven_opts: -Dtimeout=120
      cache_repo: true
      profiles: gol
      version: 3.2.5
      debug: false
